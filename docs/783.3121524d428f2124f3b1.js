(self.webpackChunkevents_app=self.webpackChunkevents_app||[]).push([[783],{783:(e,t,r)=>{"use strict";r.r(t),r.d(t,{UserModule:()=>N});var o=r(619),n=r(47),a=r(901),s=r(462),l=r(116);function i(e,t){1&e&&(o.TgZ(0,"em"),o._uU(1,"Required "),o.TgZ(2,"sup"),o._uU(3,"*"),o.qZA(),o.qZA())}function u(e,t){1&e&&(o.TgZ(0,"em"),o._uU(1,"Required "),o.TgZ(2,"sup"),o._uU(3,"*"),o.qZA(),o.qZA())}function c(e,t){1&e&&(o.TgZ(0,"div",12),o._uU(1," Invalid Login Info "),o.qZA())}let m=(()=>{class e{constructor(e,t){this._auth=e,this._router=t,this.loginInvalid=!1}login(e){this._auth.loginUser(e.userName,e.password).subscribe(e=>{console.log(e),e?this._router.navigate(["events"]):this.loginInvalid=!0})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(n.e),o.Y36(a.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:21,vars:4,consts:[[1,"col-md-4"],["autocomplete","off","novalidate","",3,"ngSubmit"],["loginform","ngForm"],[1,"form-group"],["for","userName"],[4,"ngIf"],["id","userName","name","userName","type","text","placeholder","User Name...","value","","required","",1,"form-control",3,"ngModel"],["for","password"],["id","password","name","password","type","password","placeholder","Password...","value","","required","",1,"form-control",3,"ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-default"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"h1"),o._uU(1,"Login"),o.qZA(),o._UZ(2,"hr"),o.TgZ(3,"div",0),o.TgZ(4,"form",1,2),o.NdJ("ngSubmit",function(){o.CHM(e);const r=o.MAs(5);return t.login(r.value)}),o.TgZ(6,"div",3),o.TgZ(7,"label",4),o._uU(8,"User Name:"),o.qZA(),o.YNc(9,i,4,0,"em",5),o.TgZ(10,"input",6),o.NdJ("ngModel",function(){return t.userName}),o.qZA(),o.qZA(),o.TgZ(11,"div",3),o.TgZ(12,"label",7),o._uU(13,"Password:"),o.qZA(),o.YNc(14,u,4,0,"em",5),o.TgZ(15,"input",8),o.NdJ("ngModel",function(){return t.password}),o.qZA(),o.qZA(),o.TgZ(16,"button",9),o._uU(17,"Login"),o.qZA(),o.TgZ(18,"button",10),o._uU(19,"Cancel"),o.qZA(),o.qZA(),o.YNc(20,c,2,0,"div",11),o.qZA()}if(2&e){const e=o.MAs(5);o.xp6(9),o.Q6J("ngIf",(null==e.controls.userName?null:e.controls.userName.invalid)&&(null==e.controls.userName?null:e.controls.userName.touched)),o.xp6(5),o.Q6J("ngIf",(null==e.controls.password?null:e.controls.password.invalid)&&(null==e.controls.password?null:e.controls.password.touched)),o.xp6(2),o.Q6J("disabled",e.invalid),o.xp6(4),o.Q6J("ngIf",t.loginInvalid)}},directives:[s._Y,s.JL,s.F,l.O5,s.Fj,s.Q7,s.JJ,s.On],styles:["em[_ngcontent-%COMP%]{float:right;color:#e05c65;padding-left:10px}"]}),e})();var d=r(868);function f(e,t){1&e&&(o.TgZ(0,"em"),o._uU(1,"Required"),o.qZA())}function g(e,t){1&e&&(o.TgZ(0,"em"),o._uU(1,"Must Start With A Letter"),o.qZA())}function p(e,t){1&e&&(o.TgZ(0,"em"),o._uU(1,"Required"),o.qZA())}const Z=function(e){return{error:e}},h=[{path:"profile",component:(()=>{class e{constructor(e,t,r){this._auth=e,this.router=t,this.toast=r}ngOnInit(){this.ProfileForm=new s.cw({firstName:new s.NI(this._auth.CurrentUser.firstName,[s.kI.required,s.kI.pattern("[a-zA-Z].*")]),lastName:new s.NI(this._auth.CurrentUser.lastName,s.kI.required)})}SaveProfile(e){this.ProfileForm.valid&&this._auth.UpdateUserProfile(e.value.firstName,e.value.lastName).subscribe(()=>{this.toast.success("updated")})}cancel(){this.router.navigate(["/events"])}validatefirstname(){return this.ProfileForm.controls.firstName.invalid&&this.ProfileForm.controls.firstName.touched}validatelastname(){return this.ProfileForm.controls.lastName.invalid&&this.ProfileForm.controls.lastName.touched}logout(){this._auth.logout().subscribe(()=>{this.router.navigate(["/user/login"])})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(n.e),o.Y36(a.F0),o.Y36(d._))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-profile"]],decls:23,vars:10,consts:[[1,"col-md-4"],["autocomplete","off","novalidate","",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["for","firstName"],[4,"ngIf"],["formControlName","firstName","id","firstName","type","text","placeholder","First Name...","required","",1,"form-control"],["for","lastName"],["formControlName","lastName","id","lastName","type","text","placeholder","Last Name...","required","",1,"form-control"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-default",3,"click"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"h1"),o._uU(2,"Edit Your Profile "),o.qZA(),o._UZ(3,"hr"),o.TgZ(4,"div",0),o.TgZ(5,"form",1),o.NdJ("ngSubmit",function(){return t.SaveProfile(t.ProfileForm)}),o.TgZ(6,"div",2),o.TgZ(7,"label",3),o._uU(8,"First Name:"),o.qZA(),o.YNc(9,f,2,0,"em",4),o.YNc(10,g,2,0,"em",4),o._UZ(11,"input",5),o.qZA(),o.TgZ(12,"div",2),o.TgZ(13,"label",6),o._uU(14,"Last Name:"),o.qZA(),o.YNc(15,p,2,0,"em",4),o._UZ(16,"input",7),o.qZA(),o.TgZ(17,"button",8),o._uU(18,"Save"),o.qZA(),o.TgZ(19,"button",9),o.NdJ("click",function(){return t.cancel()}),o._uU(20,"Cancel"),o.qZA(),o.TgZ(21,"button",10),o.NdJ("click",function(){return t.logout()}),o._uU(22,"logout"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(5),o.Q6J("formGroup",t.ProfileForm),o.xp6(1),o.Q6J("ngClass",o.VKq(6,Z,t.validatefirstname())),o.xp6(3),o.Q6J("ngIf",t.validatefirstname()&&(null==t.ProfileForm.controls.firstName.errors?null:t.ProfileForm.controls.firstName.errors.required)),o.xp6(1),o.Q6J("ngIf",t.validatefirstname()&&(null==t.ProfileForm.controls.firstName.errors?null:t.ProfileForm.controls.firstName.errors.pattern)),o.xp6(2),o.Q6J("ngClass",o.VKq(8,Z,t.validatelastname())),o.xp6(3),o.Q6J("ngIf",t.validatelastname()))},directives:[s._Y,s.JL,s.sg,l.mk,l.O5,s.Fj,s.JJ,s.u,s.Q7],styles:["em[_ngcontent-%COMP%]{float:right;color:#e05c65;padding-right:10px}.error[_ngcontent-%COMP%]{background-color:#e3c3c5;color:#999}"]}),e})()},{path:"login",component:m}];let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[l.ez,a.Bz.forChild(h),s.u5,s.UX]]}),e})()}}]);